### GO channel 通道

进程：程序在操作系统里面运行的一个实例，每个进程都有自己的内存空间和系统资源。

线程：进程内部的一个执行单元，每个进程可以有多个线程，线程共享进程的内存空间和系统资源。

并发：多个线程同时竞争一个位置，竞争到的才可以执行，每个时间段只能有一个线程执行。

并行：多个线程可以同时执行，每一个时间段，可以有多个线程同时执行。

通俗的讲，多线程程序在单核cpu上面运行就是并发，在多核cpu上面运行就是并行。如果线程数大于cpu核数，那么多线程程序在多个cpu上面既有并发，也有并行。

golang中的主线程，在一个golang程序的主线程上可以起多个协程。golang中多个协程可以实现并发或者并行。


```go
func test() {
	for i := 0; i < 10; i++ {
		fmt.Println("test 协程执行中...", i)
		time.Sleep(50 * time.Millisecond)
	}
}
func main() {
	go test()
	for i := 0; i < 10; i++ {
		fmt.Println("main 主线程执行中...", i)
		time.Sleep(50 * time.Millisecond)
	}
}
```

开启多个协程，等待所有协程执行完毕，我们使用`sync.WaitGroup`来实现。

```go
var wg sync.WaitGroup

func test1() {
	for i := 0; i < 10; i++ {
		fmt.Println("test1 协程执行中...", i)
		time.Sleep(50 * time.Millisecond)
	}
	wg.Done()
}
func test2() {
	for i := 0; i < 10; i++ {
		fmt.Println("test2 协程执行中...", i)
		time.Sleep(50 * time.Millisecond)
	}
	wg.Done()
}
func main() {
	wg.Add(1)
	go test1()
	wg.Add(1)
	go test2()

	wg.Wait()
	for i := 0; i < 10; i++ {
		fmt.Println("main 主线程执行中...", i)
		time.Sleep(50 * time.Millisecond)
	}
}

```
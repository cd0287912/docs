### GO 结构体struct

使用type和struct来定义结构体。通俗来说就是自定义类型。值类型

结构体声明实例化
```go
// type 类型名 struct {
//   字段名 字段类型
//   字段名 字段类型
// }

type person struct {
	name string
	age  int
	sex  string
}

// 结构体实例化
var user person // 实例化
user.name = "张三"
user.age = 18
user.sex = "男"
fmt.Printf("%#v\n", user)

// 结构体实例化
var user = new(person)
user.name = "张三"
user.age = 18
user.sex = "男"
fmt.Printf("%#v\n", user)

// 结构体实例化
var user = &person{}
user.name = "张三"
user.age = 18
user.sex = "男"
fmt.Printf("%#v\n", user)

// 结构体实例化
var user = person{
	name: "张三",
	age:  18,
	sex:  "男",
}
fmt.Printf("%#v\n", user)

// 结构体实例化
var user = &person{
	name: "张三",
	age:  18,
	sex:  "男",
}
fmt.Printf("%#v\n", user)
```

结构体方法，可以给类型定义方法，接收方法的调用者。类似于其他语言的this

```go
// 结构体方法的定义格式
// func (接收者变量 接收者类型) 方法名(参数列表) (返回参数) { 函数体 }

type person struct {
	name string
	age  int
	sex  string
}
func (p person) print() {
	fmt.Println("this is " + p.name)
}
func (p *person) changeUser(name string) {
	p.name = name
}
```

结构体的嵌套

结构体的字段类型可以是基本数据类型，也可以是切片、Map、以及结构体
如果结构体的字段类型是：指针、slice、和map的零值都是nil、即还没有分配空间
如果需要这样的字段，需要先make，才能使用

```go
type student struct {
	name  string
	hobby []string
	score map[string]int
}

func main() {
	var s student
	s.name = "张三"
	s.hobby = make([]string, 2, 2)
	s.hobby[0] = "写代码"
	s.hobby[1] = "泡妞"
	s.score = make(map[string]int)
	s.score["语文"] = 100
	s.score["数学"] = 90
	fmt.Println(s)
}
```